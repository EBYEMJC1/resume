<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Resume Builder</title>
    <style>
        /* --- Builder Layout Styles --- */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            line-height: 1.2; /* Slightly increased for form readability */
            font-size: 14px; /* Increased for form readability */
            display: flex; /* Use flexbox for side-by-side layout */
            min-height: 100vh; /* Ensure full height */
        }
        .builder-container {
            display: flex;
            width: 100%;
            max-width: 1400px; /* Allow more width for side-by-side */
            margin: 0 auto;
            padding: 10px;
            box-sizing: border-box;
        }
        .input-area {
            width: 40%; /* Allocate more width for input forms */
            padding-right: 20px;
            overflow-y: auto; /* Allow scrolling in input area */
            box-sizing: border-box;
        }
        .resume-area {
            width: 60%; /* Allocate width for resume preview */
            border-left: 1px solid #ccc;
            padding-left: 20px;
            box-sizing: border-box;
            overflow-y: auto; /* Allow scrolling in resume area */
        }

        /* Style for input sections */
        .input-section {
            margin-bottom: 20px;
            padding: 15px;
            border: 1px solid #eee;
            border-radius: 5px;
            background-color: #f9f9f9;
        }
        .input-section h3 {
            margin-top: 0;
            margin-bottom: 10px;
            border-bottom: 1px dashed #ccc;
            padding-bottom: 5px;
        }
         .input-section label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            font-size: 12px; /* Smaller label font */
        }
         .input-section input[type="text"],
        .input-section input[type="email"],
        .input-section input[type="tel"],
        .input-section textarea,
         .input-section select {
            width: calc(100% - 12px); /* Adjust width for padding */
            padding: 5px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 3px;
            font-size: 12px;
        }
        .input-section textarea {
            resize: vertical;
        }

        .input-section button {
            display: inline-block;
            background-color: #007bff;
            color: white;
            padding: 8px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            margin-top: 5px;
        }
        .input-section button:hover {
            background-color: #0056b3;
        }
         .input-section .remove-button {
             background-color: #dc3545;
             margin-left: 5px;
         }
         .input-section .remove-button:hover {
             background-color: #c82333;
         }


        .bullet-inputs {
            margin-top: 10px;
            padding: 10px;
            border: 1px dashed #ccc;
            border-radius: 3px;
            background-color: #fff;
        }
         .bullet-inputs label {
             font-weight: normal;
         }
        .bullet-inputs input[type="text"] {
            margin-bottom: 5px;
        }
         .bullet-item { /* Wrapper for input + remove button */
             display: flex;
             align-items: center;
             margin-bottom: 5px;
         }
         .bullet-item input {
             flex-grow: 1; /* Input takes available space */
             margin-bottom: 0 !important; /* Override default margin */
             margin-right: 5px;
         }


        .bullet-inputs .add-bullet-button {
            background-color: #28a745;
            margin-right: 5px;
        }
         .bullet-inputs .add-bullet-button:hover {
             background-color: #218838;
         }
         .bullet-inputs .remove-bullet-button {
              background-color: #6c757d;
              flex-shrink: 0; /* Don't shrink button */
              padding: 2px 5px;
              font-size: 10px;
              height: 24px;
         }
         .bullet-inputs .remove-bullet-button:hover {
              background-color: #5a6268;
         }

        .bullet-guide {
            font-size: 10px;
            color: #555;
            margin-bottom: 10px;
        }

        #section-remove-list {
            list-style: none;
            padding: 0;
            margin-top: 10px;
        }
        #section-remove-list li {
            margin-bottom: 5px;
            padding: 5px;
            border: 1px solid #eee;
            background-color: #fff;
            display: flex;
            justify-content: space-between;
            align-items: center;
             font-size: 12px;
        }
         #section-remove-list li button {
             margin-top: 0;
             padding: 2px 8px;
         }

         .date-required label::after {
             content: "*";
             color: red;
             margin-left: 2px;
         }
         .date-guide {
             font-size: 10px;
             color: #555;
             margin-top: -8px; /* Pull it closer to the input */
             margin-bottom: 10px;
         }
          .bullet-length-feedback {
              font-size: 10px;
              color: #d9534f; /* Reddish color for warning */
              margin-top: -8px;
              margin-bottom: 8px;
              display: none; /* Hide by default */
          }
           .bullet-length-feedback.show {
               display: block;
           }


        /* --- Resume Display Styles (Optimized for tightness) --- */
        .resume-area .container {
            max-width: 100%; /* Use full width of the resume-area */
            margin: 0; /* Remove auto margin */
            padding: 0; /* Remove padding, it's on the resume-area */
            font-size: 11px; /* Keep original resume font size */
            line-height: 1.1; /* Keep tight line height */
        }
         /* Base styles for dynamically added sections AND initial ones */
        .resume-section { /* This now applies to all sections */
            margin-top: 10px; /* Consistent spacing between sections */
        }
        .resume-section .section-title { /* This now applies to all section titles */
            font-weight: bold;
            font-size: 13px;
            margin-top: 0; /* Margin handled by .resume-section */
            border-bottom: 1px solid #000;
            padding-bottom: 2px;
            margin-bottom: 4px; /* Space between title and content */
        }
        .resume-area .header {
            text-align: center;
            margin-bottom: 6px;
        }
        .resume-area .header h1 {
            margin: 0;
            font-size: 16px;
        }
        .resume-area .header p {
            margin: 1px 0;
            font-size: 11px;
        }

        /* Styles specific to content types within sections */
         .section-content .job-entry { /* Wrapper for structured entries */
            /* Use margin-top here instead of on job-title to handle spacing between entries */
            margin-top: 8px; /* Space between structured job/experience entries */
         }
         .section-content .job-entry:first-child {
             margin-top: 0; /* No extra space for the first entry after the title */
         }


         .section-content .job-title { /* Education/Experience Structure */
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            font-size: 11px;
            margin-bottom: 0;
            margin-top: 0; /* Margin moved to .job-entry wrapper */
        }
        .section-content .location { /* Education/Experience Structure */
            font-style: italic;
            display: flex;
            justify-content: space-between;
            font-size: 11px;
            margin-top: 0;
            margin-bottom: 2px;
        }
        .section-content ul { /* Experience/List Structure */
            list-style-type: disc;
            margin-left: 10px;
            font-size: 11px;
            padding-left: 5px;
            margin-top: 0;
            margin-bottom: 0;
        }
        .section-content li { /* List items */
             margin-bottom: 1px;
        }
        .section-content li:last-child {
            margin-bottom: 0;
        }
        .section-content p { /* Skills/Paragraph Structure */
            margin: 1px 0;
            margin-top: 3px; /* Space after title */
        }


         /* --- Print Styles --- */
         @media print {
             body {
                 font-size: 10px; /* Slightly smaller base font for print */
                 line-height: 1; /* Even tighter line height for print */
                 display: block; /* Disable flexbox layout for printing */
             }
             .builder-container {
                 display: block; /* Disable flexbox */
                 width: 100%;
                 max-width: 100%;
                 padding: 0;
                 margin: 0;
             }
             .input-area {
                 display: none; /* Hide the input forms when printing */
             }
             .resume-area {
                 width: 100%; /* Resume takes full width */
                 border-left: none;
                 padding-left: 0;
                 overflow-y: visible; /* Disable scrolling */
             }
             .resume-area .container {
                 font-size: 10px; /* Apply smaller font size within resume content */
                 line-height: 1; /* Apply tighter line height within resume content */
             }
             /* Re-apply tighter margins/padding for print */
             .resume-area .header { margin-bottom: 4px; }
             .resume-area .header p { margin: 0; }

             .resume-section { margin-top: 8px; } /* Tighter section spacing */
             .resume-section .section-title { margin-bottom: 2px; padding-bottom: 1px;}

             .section-content .job-entry { margin-top: 6px;} /* Tighter space between structured entries */
             .section-content .job-entry:first-child { margin-top: 0;}

             .section-content .job-title { margin-top: 2px; margin-bottom: 0; }
             .section-content .location { margin-top: 0; margin-bottom: 1px; }
             .section-content ul { margin-left: 8px; padding-left: 4px; margin-top: 0; margin-bottom: 0; }
             .section-content li { margin-bottom: 0; } /* Remove space between list items */
             .section-content p { margin: 0; margin-top: 2px;}


             /* Ensure elements don't break across pages where possible */
             .resume-section, .section-content .job-entry {
                 page-break-inside: avoid; /* Avoid breaking inside these blocks if possible */
             }
         }

    </style>
</head>
<body>
    <div class="builder-container">
        <div class="input-area">
            <h2>Resume Builder</h2>

            <div class="input-section">
                <h3>Header Info</h3>
                <label for="name">Name:</label><input type="text" id="name" placeholder="Your Name">
                <label for="address">Address:</label><input type="text" id="address" placeholder="City, State Zip">
                <label for="email">Email:</label><input type="email" id="email" placeholder="email@example.com">
                <label for="phone">Phone:</label><input type="tel" id="phone" placeholder="(XXX) XXX-XXXX">
                <label for="linkedin">LinkedIn URL:</label><input type="text" id="linkedin" placeholder="https://linkedin.com/in/yourprofile">
                <button onclick="updateHeader()">Update Header</button>
            </div>

            <div class="input-section">
                <h3>Section Management</h3>
                 <label for="new-section-title">New Section Title:</label>
                 <input type="text" id="new-section-title" placeholder="e.g. Projects, Awards">
                 <label for="new-section-type">Section Type:</label>
                 <select id="new-section-type">
                     <option value="structured-entry">Structured Entry (Like Experience)</option>
                     <option value="list-item">List Item (Like Extracurricular)</option>
                     <option value="paragraph">Paragraph (Like Skills)</option>
                     <option value="education-entry">Education Entry</option>
                 </select>
                <button onclick="addSection()">Add New Section</button>

                <h4>Remove Custom Sections</h4>
                <ul id="section-remove-list">
                    <!-- Only user-added sections will be listed here by JS -->
                </ul>
            </div>

            <div class="input-section" id="add-education-entry-section">
                <h3>Add Education Entry</h3>
                 <label for="edu-section-select">Select Section:</label>
                 <select id="edu-section-select" class="section-select"></select>
                <label for="edu-degree">Degree:</label><input type="text" id="edu-degree" placeholder="e.g. Bachelor of Science in Biology">
                <label for="edu-institution">Institution:</label><input type="text" id="edu-institution" placeholder="e.g. California State University, Fullerton">
                <label class="date-required" for="edu-date">End Date:</label><input type="text" id="edu-date" placeholder="e.g. May 2025, 2023">
                 <p class="date-guide">Required for sorting. Use format "Month YYYY" or "YYYY".</p>
                <label for="edu-gpa">GPA:</label><input type="text" id="edu-gpa" placeholder="e.g. 3.45">
                <label for="edu-expected">Additional Line (Optional):</label><input type="text" id="edu-expected" placeholder="e.g. Expected Graduation: May 2025">
                <button onclick="addEducationEntryForm()">Add Entry</button>
            </div>

             <div class="input-section" id="add-skills-section">
                <h3>Add/Set Paragraph Content</h3>
                 <label for="para-section-select">Select Section:</label>
                 <select id="para-section-select" class="section-select"></select>
                <label for="skills-content">Paragraph Content:</label>
                <textarea id="skills-content" rows="3" placeholder="Comma-separated list of skills."></textarea>
                 <p style="font-size: 10px; color:#555; margin-top: 5px;">Paragraph sections are not sorted by date.</p>
                <button onclick="setParagraphContentForm()">Set Content</button>
            </div>

            <div class="input-section" id="add-structured-entry-section">
                <h3>Add Structured Entry (e.g., Experience, Projects)</h3>
                 <label for="structured-section-select">Select Section:</label>
                 <select id="structured-section-select" class="section-select"></select>
                <label for="structured-position">Position/Title:</label><input type="text" id="structured-position" placeholder="e.g. Crew">
                <label for="structured-company">Company:</label><input type="text" id="structured-company" placeholder="e.g. Chipotle">
                <label for="structured-location">Location:</label><input type="text" id="structured-location" placeholder="e.g. City, State">
                <label class="date-required" for="structured-dates">Dates:</label><input type="text" id="structured-dates" placeholder="e.g. Aug 2023 - Present, June 2022 - Aug 2022, 2021">
                 <p class="date-guide">Required for sorting. Use format "Mon YYYY - Mon YYYY", "YYYY - YYYY", "Month YYYY", or "YYYY".</p>

                <div class="bullet-inputs" id="structured-bullets">
                    <label>Details/Bullets:</label>
                     <div class="bullet-guide">
                         Use **text** for bolding.
                         <br>Write achievement-oriented bullets starting with action verbs.
                         <br>Include quantifiable results (numbers, percentages) where possible.
                          <br>Consider the STAR method (Situation, Task, Action, Result) or How-What-Why.
                         <br>Keep bullets concise (ideally 1-2 lines).
                         <br>Click "Add Another Bullet" for more lines.
                     </div>
                    <div class="bullet-item">
                        <input type="text" class="bullet-input" placeholder="e.g. Ensured high order accuracy by implementing a step-by-step confirmation process, consistently limiting errors to fewer than 4 per 5-hour shift (Showcases: Accuracy, Process, Results)">
                        <button class="remove-bullet-button" type="button" onclick="removeBulletItem(this)">x</button>
                    </div>
                     <div class="bullet-item">
                         <input type="text" class="bullet-input" placeholder="e.g. Developed a decision tree model using **scikit-learn** in Python to analyze data for viable drug candidates targeting HIV-1 integrase. (Showcases: Technical Skills, Project, Purpose)">
                         <button class="remove-bullet-button" type="button" onclick="removeBulletItem(this)">x</button>
                     </div>
                    <p class="bullet-length-feedback"></p> <!-- Feedback message -->
                </div>
                <button class="add-bullet-button" type="button" onclick="addBulletInput('structured-bullets')">Add Another Bullet</button>
                <button onclick="addStructuredEntryForm()">Add Entry</button>
            </div>

             <div class="input-section" id="add-list-item-section">
                <h3>Add List Item (e.g., Activities, Awards)</h3>
                 <label for="list-section-select">Select Section:</label>
                 <select id="list-section-select" class="section-select"></select>
                <label class="date-required" for="list-item-text">List Item Text:</label>
                <textarea id="list-item-text" rows="2" placeholder="e.g., STEM Advantage Scholar | January 2022 – Present"></textarea>
                 <p class="date-guide">
                     Required for sorting. Include a date in the text (e.g., Jan 2022, 2023) using formats like "Month YYYY", "YYYY", or "Mon YYYY – Mon YYYY".
                     <br>Use **text** for bolding.
                 </p>
                <button onclick="addListItemForm()">Add Item</button>
            </div>

             <div class="input-section">
                 <h3>Reset/Clear</h3>
                 <p style="font-size: 10px; color:#555;">"Clear All Entries" removes all content from all sections but keeps the section titles. "Reset Builder" clears everything and reloads the page with defaults.</p>
                 <button onclick="clearResumeContent()">Clear All Entries</button>
                 <button onclick="location.reload()">Reset Builder</button>
             </div>


        </div>

        <div class="resume-area">
            <!-- The Resume content will be built here -->
            <div class="container">
                <div class="header">
                    <h1 id="resume-name"></h1>
                    <p><span id="resume-contact"></span></p>
                    <p><a href="#" id="resume-linkedin"></a></p>
                </div>
                 <!-- Initial sections are fixed here -->
                 <div id="resume-sections">
                     <div id="resume-section-education" class="resume-section" data-section-type="education-entry">
                         <div class="section-title">Education</div>
                         <div id="content-education" class="section-content">
                             <!-- Education entries will be added here -->
                         </div>
                     </div>

                     <div id="resume-section-technical-skills" class="resume-section" data-section-type="paragraph">
                         <div class="section-title">Technical Skills</div>
                          <div id="content-technical-skills" class="section-content">
                              <!-- Skills paragraph will be updated here -->
                          </div>
                     </div>

                     <div id="resume-section-experience" class="resume-section" data-section-type="structured-entry">
                         <div class="section-title">Experience</div>
                         <div id="content-experience" class="section-content">
                             <!-- Experience entries will be added here -->
                         </div>
                     </div>

                     <div id="resume-section-extracurricular" class="resume-section" data-section-type="list-item">
                         <div class="section-title">Extracurricular Activities</div>
                         <div id="content-extracurricular" class="section-content">
                            <ul>
                             <!-- Extracurricular list items will be added here -->
                            </ul>
                         </div>
                     </div>
                     <!-- Custom user-added sections will be appended here -->
                 </div>
            </div>
        </div>
    </div>

    <script>
        // Data structure to hold defined *custom* sections
        // Initial sections are fixed in HTML, not in this array
        let dynamicSections = [];

        // Store content data separately to avoid losing it when re-rendering structure
        let resumeContentData = {
             header: {},
             sections: {} // Store entries per section id (including initial ones)
        };

        // --- Helper Functions ---

        // Helper function to process **text** into <strong>text</strong>
        function processBolding(text) {
            if (typeof text !== 'string') {
                return text; // Return non-string inputs directly
            }
            return text.replace(/\*\*(.*?)\*\*/gi, '<strong>$1</strong>');
        }

         // Helper function to parse date strings for sorting
         function parseDateForSorting(dateStr) {
             if (!dateStr) return null;

             // Handle "Present" - treat as a future date (e.g., year 9999) to ensure it sorts first
             if (dateStr.toLowerCase().includes('present')) {
                  return new Date(9999, 0, 1); // Jan 1, 9999
             }

             // Look for a date range (e.g., "Month Year - Month Year" or "Year - Year")
             const dateRangeMatch = dateStr.match(/(\S+)\s*[-–]\s*(\S+)/); // Allow hyphen or en dash
             if (dateRangeMatch && dateRangeMatch[2]) {
                 // Attempt to parse the END date of the range
                 dateStr = dateRangeMatch[2];
             }

             // Attempt to parse the remaining string
             let parsedDate;

             // Try parsing "Month Year" or "Month, Year" (case-insensitive month)
             const monthYearMatch = dateStr.match(/([A-Za-z]+)\s*,?\s*(\d{4})/);
             if (monthYearMatch) {
                 parsedDate = new Date(`${monthYearMatch[1]} 1, ${monthYearMatch[2]}`);
                  if (!isNaN(parsedDate.getTime())) {
                     return parsedDate;
                 }
             }

             // Try parsing just "Year"
             const yearMatch = dateStr.match(/^(\d{4})$/);
              if (yearMatch) {
                 parsedDate = new Date(`${yearMatch[1]}-12-31`); // Use Dec 31 to ensure later sort than Jan 1 of same year
                 if (!isNaN(parsedDate.getTime())) {
                     return parsedDate;
                 }
             }

             // Try parsing common short formats like "Mon YYYY" (case-insensitive month)
             const shortMonthYearMatch = dateStr.match(/^([A-Za-z]{3,})\s+(\d{4})$/); // Month name (3+ letters) followed by year
             if (shortMonthYearMatch) {
                 parsedDate = new Date(`${shortMonthYearMatch[1]} 1, ${shortMonthYearMatch[2]}`);
                  if (!isNaN(parsedDate.getTime())) {
                     return parsedDate;
                 }
             }

             // If all attempts fail, return null
             console.warn(`Could not parse date for sorting: "${dateStr}"`);
             return null;
         }

         // Helper for bullet length feedback
         function checkBulletLength(inputElement) {
             const maxLength = 180; // Approximate reasonable max length for a bullet point line
             const feedbackElement = inputElement.closest('.bullet-inputs').querySelector('.bullet-length-feedback');

             // Find the closest bullet-inputs container and check *all* inputs within it
              const allInputs = inputElement.closest('.bullet-inputs').querySelectorAll('.bullet-input');
              let anyTooLong = false;
              allInputs.forEach(input => {
                  if (input.value.length > maxLength) {
                       anyTooLong = true;
                  }
              });

             if (anyTooLong) {
                 feedbackElement.textContent = `Some bullets are quite long. Consider breaking them into multiple points.`;
                 feedbackElement.classList.add('show');
             } else {
                 feedbackElement.classList.remove('show');
             }
         }


        // --- Resume Rendering ---
        // This function now primarily populates content within existing section divs
        // It also handles rendering NEWLY ADDED sections
        function renderResumeSections() {
            const resumeSectionsDiv = document.getElementById('resume-sections');
            // We no longer clear all sections here, only add dynamic ones if needed

            // Populate content for all sections (initial + dynamic)
            populateResumeContent();

            // Update the list of removable sections (only dynamic ones)
            renderSectionRemovalList();
            // Update dropdowns (include all sections)
            populateSectionDropdowns();
        }

        // --- Populate Dropdowns in Input Forms ---
        function populateSectionDropdowns() {
            const sectionSelects = document.querySelectorAll('.section-select');

            // Get *all* sections from the resume area (initial + dynamic)
             const allResumeSections = document.querySelectorAll('#resume-sections > .resume-section');
             const allSectionsData = Array.from(allResumeSections).map(sectionDiv => ({
                 id: sectionDiv.id.replace('resume-section-', ''), // Extract ID
                 title: sectionDiv.querySelector('.section-title').textContent, // Get title
                 type: sectionDiv.dataset.sectionType // Get type from data attribute
             }));


            sectionSelects.forEach(select => {
                const currentSelectedId = select.value; // Remember selection
                select.innerHTML = ''; // Clear existing options

                let relevantSections = [];
                // Determine which sections are relevant for this dropdown based on its ID
                 if (select.id === 'edu-section-select') {
                    relevantSections = allSectionsData.filter(s => s.type === 'education-entry');
                 } else if (select.id === 'para-section-select') {
                    relevantSections = allSectionsData.filter(s => s.type === 'paragraph');
                 } else if (select.id === 'structured-section-select') {
                    relevantSections = allSectionsData.filter(s => s.type === 'structured-entry');
                 } else if (select.id === 'list-section-select') {
                    relevantSections = allSectionsData.filter(s => s.type === 'list-item');
                 }

                if (relevantSections.length === 0) {
                    select.innerHTML = '<option value="">No sections available</option>';
                    select.disabled = true;
                } else {
                    select.disabled = false;
                    relevantSections.forEach(section => {
                        const option = document.createElement('option');
                        option.value = section.id;
                        option.textContent = section.title;
                        select.appendChild(option);
                    });
                     // Restore previous selection if possible, otherwise default to first
                     if (currentSelectedId && relevantSections.some(s => s.id === currentSelectedId)) {
                         select.value = currentSelectedId;
                     } else if (relevantSections.length > 0) {
                         select.value = relevantSections[0].id;
                     }
                }
            });
        }

        // --- Section Management (Add/Remove *Custom* Sections) ---
        function addSection() {
            const titleInput = document.getElementById('new-section-title');
            const typeSelect = document.getElementById('new-section-type');
            const title = titleInput.value.trim();
            const type = typeSelect.value;

            if (!title) {
                alert("Please enter a section title.");
                return;
            }

            // Generate a unique ID (lowercase, hyphenated)
            const baseId = title.toLowerCase().replace(/\s+/g, '-').replace(/[^a-z0-9-]/g, ''); // Basic sanitization
            let sectionId = baseId || `new-section-${Date.now()}`; // Fallback ID
            let counter = 1;

            // Ensure ID is unique among *all* sections (initial + dynamic)
             const existingSectionIds = Array.from(document.querySelectorAll('#resume-sections > .resume-section'))
                                           .map(div => div.id.replace('resume-section-', ''));

            while (existingSectionIds.includes(sectionId)) {
                sectionId = `${baseId}-${counter++}`;
                 if (counter > 100) { // Prevent infinite loops
                     sectionId = `section-${Date.now()}`;
                     break;
                 }
            }

            // Add to our dynamicSections array (only stores custom sections)
            dynamicSections.push({ id: sectionId, title: title, type: type });
             // Initialize content array for the new section in resumeContentData
             resumeContentData.sections[sectionId] = [];

            // Dynamically create the HTML div structure for the new section
            const resumeSectionsDiv = document.getElementById('resume-sections');
            const sectionDiv = document.createElement('div');
            sectionDiv.classList.add('resume-section');
            sectionDiv.id = `resume-section-${sectionId}`;
            sectionDiv.dataset.sectionType = type; // Store type as data attribute

            const titleDiv = document.createElement('div');
            titleDiv.classList.add('section-title');
            titleDiv.textContent = title;

            const contentDiv = document.createElement('div');
            contentDiv.classList.add('section-content');
            contentDiv.id = `content-${sectionId}`;

             // Add initial structure based on type (e.g., empty ul for list types)
             if (type === 'list-item') {
                 const ul = document.createElement('ul');
                 contentDiv.appendChild(ul);
             }

            sectionDiv.appendChild(titleDiv);
            sectionDiv.appendChild(contentDiv);
            resumeSectionsDiv.appendChild(sectionDiv); // Append the new section to the resume area


            renderResumeSections(); // Update UI elements (removal list, dropdowns, content)

            // Clear form
            titleInput.value = '';
        }

        function renderSectionRemovalList() {
            const removeList = document.getElementById('section-remove-list');
            removeList.innerHTML = ''; // Clear list

            // Iterate through dynamicSections (only custom sections)
            dynamicSections.forEach(section => {
                const li = document.createElement('li');
                li.textContent = section.title;
                const removeButton = document.createElement('button');
                removeButton.classList.add('remove-button');
                removeButton.textContent = 'Remove';
                removeButton.type = 'button'; // Prevent form submission
                removeButton.onclick = () => removeSection(section.id);
                li.appendChild(removeButton);
                removeList.appendChild(li);
            });
        }

        function removeSection(id) {
             // Find the index of the section with the given ID in dynamicSections
             const index = dynamicSections.findIndex(section => section.id === id);

             if (index !== -1) {
                 // Remove the section from the dynamicSections array
                 dynamicSections.splice(index, 1);

                 // Remove its content data from resumeContentData
                 delete resumeContentData.sections[id];

                 // Remove the corresponding HTML div from the resume area
                 const sectionDiv = document.getElementById(`resume-section-${id}`);
                 if (sectionDiv) {
                     sectionDiv.remove();
                 }

                 renderResumeSections(); // Update UI elements (removal list, dropdowns, content)
             }
        }

        // --- Content Management (Add Entries to Sections) ---

        // Add Education Entry
        function addEducationEntry(sectionId, data) {
            // Get the section type from the HTML element's data attribute
            const sectionDiv = document.getElementById(`resume-section-${sectionId}`);
            const sectionType = sectionDiv ? sectionDiv.dataset.sectionType : null;

             if (!sectionDiv || sectionType !== 'education-entry') {
                  console.error(`Section ${sectionId} not found or not of type 'education-entry'`);
                  alert(`Cannot add Education entry: Target section not found or is not an Education section.`);
                  return;
             }

             // Add the sortable date to the data object
             const sortDate = parseDateForSorting(data.date);
              if (!sortDate) {
                  alert(`Education entry requires a valid date for sorting ("${data.date}" could not be parsed). Please try again.`);
                  return; // Prevent adding if date parsing fails
              }
             data.sortDate = sortDate;


             if (!resumeContentData.sections[sectionId]) {
                 resumeContentData.sections[sectionId] = [];
             }
             resumeContentData.sections[sectionId].push(data);
             populateResumeContent(); // Re-render content (which now includes sorting)

             // Clear form
             document.getElementById('edu-degree').value = '';
             document.getElementById('edu-institution').value = '';
             document.getElementById('edu-date').value = '';
             document.getElementById('edu-gpa').value = '';
             document.getElementById('edu-expected').value = '';
        }

         function addEducationEntryForm() {
             const sectionId = document.getElementById('edu-section-select').value;
             if (!sectionId) { alert("Please select a section."); return; }

             const degree = document.getElementById('edu-degree').value;
             const institution = document.getElementById('edu-institution').value;
             const date = document.getElementById('edu-date').value; // This is the required field for sorting
             const gpa = document.getElementById('edu-gpa').value;
             const expected = document.getElementById('edu-expected').value;

             if (!degree || !institution || !date) {
                 alert("Please fill out Degree, Institution, and End Date.");
                 return;
             }

             const data = { degree, institution, date, gpa, expected };
             addEducationEntry(sectionId, data); // Call the function that handles adding and validation
         }

         // Set Paragraph Content (for skills or custom paragraph sections)
         // This function doesn't involve dates or sorting multiple entries
        function setParagraphContent(sectionId, content) {
             const sectionDiv = document.getElementById(`resume-section-${sectionId}`);
             const sectionType = sectionDiv ? sectionDiv.dataset.sectionType : null;

             if (!sectionDiv || sectionType !== 'paragraph') {
                  console.error(`Section ${sectionId} not found or not of type 'paragraph'`);
                  alert(`Cannot set Paragraph content: Target section not found or is not a Paragraph section.`);
                  return;
             }
             // Paragraph sections typically only have ONE paragraph
             resumeContentData.sections[sectionId] = [content]; // Store as a single item array
             populateResumeContent(); // Re-render content
        }

        function setParagraphContentForm() {
            const sectionId = document.getElementById('para-section-select').value;
            if (!sectionId) { alert("Please select a section."); return; }

            const content = document.getElementById('skills-content').value;
            setParagraphContent(sectionId, content);

             // Clear form (maybe not desired if user is refining)
             // document.getElementById('skills-content').value = '';
        }

        // Add Structured Entry (for experience or custom structured sections)
         function addStructuredEntry(sectionId, data) {
             const sectionDiv = document.getElementById(`resume-section-${sectionId}`);
             const sectionType = sectionDiv ? sectionDiv.dataset.sectionType : null;

             if (!sectionDiv || sectionType !== 'structured-entry') {
                  console.error(`Section ${sectionId} not found or not of type 'structured-entry'`);
                  alert(`Cannot add Structured entry: Target section not found or is not a Structured Entry section.`);
                  return;
             }

             // Add the sortable date to the data object
             const sortDate = parseDateForSorting(data.dates);
              if (!sortDate) {
                   alert(`Structured entry requires valid dates for sorting ("${data.dates}" could not be parsed). Please try again.`);
                   return; // Prevent adding if date parsing fails
              }
             data.sortDate = sortDate;


             if (!resumeContentData.sections[sectionId]) {
                 resumeContentData.sections[sectionId] = [];
             }
             resumeContentData.sections[sectionId].push(data);
             populateResumeContent(); // Re-render content (which now includes sorting)

             // Clear form and reset bullets
             document.getElementById('structured-position').value = '';
             document.getElementById('structured-company').value = '';
             document.getElementById('structured-location').value = '';
             document.getElementById('structured-dates').value = '';
             const structuredBulletsContainer = document.getElementById('structured-bullets');
             structuredBulletsContainer.innerHTML = `
                 <label>Details/Bullets:</label>
                 <div class="bullet-guide">
                     Use **text** for bolding.<br>Write achievement-oriented bullets starting with action verbs.<br>Include quantifiable results (numbers, percentages) where possible.<br>Consider the STAR method (Situation, Task, Action, Result) or How-What-Why.<br>Keep bullets concise (ideally 1-2 lines).<br>Click "Add Another Bullet" for more lines.
                 </div>
                 <div class="bullet-item">
                     <input type="text" class="bullet-input" placeholder="Enter bullet point">
                     <button class="remove-bullet-button" type="button" onclick="removeBulletItem(this)">x</button>
                 </div>
                 <p class="bullet-length-feedback"></p>
             `;
              // Re-add event listener to the *new* bullet input
             structuredBulletsContainer.querySelector('.bullet-input').addEventListener('input', function() { checkBulletLength(this); });
         }

         function addStructuredEntryForm() {
             const sectionId = document.getElementById('structured-section-select').value;
             if (!sectionId) { alert("Please select a section."); return; }

             const position = document.getElementById('structured-position').value;
             const company = document.getElementById('structured-company').value;
             const location = document.getElementById('structured-location').value;
             const dates = document.getElementById('structured-dates').value; // This is the required field for sorting
             const bulletInputs = document.querySelectorAll('#structured-bullets .bullet-input');
             const bullets = Array.from(bulletInputs).map(input => input.value).filter(value => value.trim() !== '');

             if (!position || !company || !dates) {
                 alert("Please fill out Position, Company, and Dates.");
                 return;
             }
              if (bullets.length === 0) {
                  alert("Please add at least one bullet point.");
                  return;
              }

             const data = { position, company, location, dates, bullets };
             addStructuredEntry(sectionId, data); // Call the function that handles adding and validation
         }


        // Add List Item (for extracurricular or custom list sections)
         function addListItem(sectionId, text) {
             const sectionDiv = document.getElementById(`resume-section-${sectionId}`);
             const sectionType = sectionDiv ? sectionDiv.dataset.sectionType : null;

             if (!sectionDiv || sectionType !== 'list-item') {
                  console.error(`Section ${sectionId} not found or not of type 'list-item'`);
                  alert(`Cannot add List item: Target section not found or is not a List Item section.`);
                  return;
             }

             // Add the sortable date to the data object (parse from the text)
             const sortDate = parseDateForSorting(text);
              if (!sortDate) {
                   alert(`List item requires a date in the text for sorting ("${text}" could not be parsed). Please try again, ensuring the date format is recognized.`);
                   return; // Prevent adding if date parsing fails
              }
             const data = { text: text, sortDate: sortDate };


             if (!resumeContentData.sections[sectionId]) {
                 resumeContentData.sections[sectionId] = [];
             }
             resumeContentData.sections[sectionId].push(data);
             populateResumeContent(); // Re-render content (which now includes sorting)

            // Clear form
            document.getElementById('list-item-text').value = '';
         }

         function addListItemForm() {
            const sectionId = document.getElementById('list-section-select').value;
            if (!sectionId) { alert("Please select a section."); return; }

            const text = document.getElementById('list-item-text').value.trim();
            if (!text) {
                alert("Please enter list item text.");
                return;
            }

            addListItem(sectionId, text); // Call the function that handles adding and validation
         }

        // Dynamic Bullet Input Helper
        function addBulletInput(containerId) {
            const container = document.getElementById(containerId);
             // Find the feedback paragraph to insert before it
             const feedbackElement = container.querySelector('.bullet-length-feedback');

            const div = document.createElement('div'); // Wrap input and button
            div.classList.add('bullet-item');
            const input = document.createElement('input');
            input.type = 'text';
            input.classList.add('bullet-input');
            input.placeholder = 'Enter bullet point';
             // Add event listener for length check on the new input
            input.addEventListener('input', function() { checkBulletLength(this); });


             // Add a small button to remove this bullet input
            const removeButton = document.createElement('button');
            removeButton.classList.add('remove-bullet-button');
            removeButton.textContent = 'x';
            removeButton.type = 'button'; // Prevent form submission
            removeButton.onclick = function() {
                div.remove(); // Remove the wrapper div
                 // Re-check lengths after removing an input
                 checkBulletLength(container.querySelector('.bullet-length-feedback')); // Pass feedback element to re-check overall container
            };

            div.appendChild(input);
            div.appendChild(removeButton);
            // Insert the new bullet input div before the feedback paragraph
             container.insertBefore(div, feedbackElement);
        }

         // Helper to remove a bullet item wrapper div
         function removeBulletItem(buttonElement) {
             const bulletItemDiv = buttonElement.closest('.bullet-item');
             const container = bulletItemDiv.closest('.bullet-inputs');
             bulletItemDiv.remove();
             // Re-check lengths after removal
              checkBulletLength(container.querySelector('.bullet-length-feedback')); // Pass feedback element to re-check overall container
         }


        // --- Populate Resume Content into Rendered Sections ---
        // This function reads the data from resumeContentData, SORTS IT, and builds the HTML inside the section content divs
        function populateResumeContent() {
             // Get all section IDs that have content stored
             const sectionIdsWithContent = Object.keys(resumeContentData.sections);

             sectionIdsWithContent.forEach(sectionId => {
                 const contentDiv = document.getElementById(`content-${sectionId}`);
                 if (!contentDiv) {
                     console.error(`Content div not found for section: ${sectionId}`);
                     return; // Section container not found
                 }

                 // Clear previous content inside this section's content div
                 contentDiv.innerHTML = '';

                 // Get the section type from the HTML element's data attribute
                 const sectionDiv = document.getElementById(`resume-section-${sectionId}`);
                 const sectionType = sectionDiv ? sectionDiv.dataset.sectionType : null;

                 if (!sectionType) {
                     console.error(`Section type not found for section: ${sectionId}`);
                     return;
                 }


                 let entries = resumeContentData.sections[sectionId] || [];

                 // --- Sorting Logic ---
                 // Only sort sections that have a sortable type
                 if (['education-entry', 'structured-entry', 'list-item'].includes(sectionType)) {
                     entries.sort((a, b) => {
                         const dateA = a.sortDate;
                         const dateB = b.sortDate;

                         // Handle invalid/missing dates: put them at the end
                         if (!dateA && !dateB) return 0; // Both invalid, maintain original relative order
                         if (!dateA) return 1; // A is invalid, put it after B
                         if (!dateB) return -1; // B is invalid, put it after A

                         // Compare valid dates in reverse chronological order (most recent first)
                         return dateB.getTime() - dateA.getTime();
                     });
                 }
                 // --- End Sorting Logic ---


                 // Now render the sorted entries
                 switch (sectionType) {
                     case 'education-entry':
                          entries.forEach(entry => {
                             const jobEntryDiv = document.createElement('div'); // Wrap entry for potential print breaking
                             jobEntryDiv.classList.add('job-entry');

                             const jobTitleDiv = document.createElement('div');
                             jobTitleDiv.classList.add('job-title');
                             jobTitleDiv.innerHTML = `<span>${processBolding(entry.degree || '')}</span><span>${processBolding(entry.date || '')}</span>`;

                             const locationDiv = document.createElement('div');
                             locationDiv.classList.add('location');
                             locationDiv.innerHTML = `<span>${processBolding(entry.institution || '')}</span><span>${processBolding(entry.gpa ? 'GPA: ' + entry.gpa : '')}</span>`;

                             jobEntryDiv.appendChild(jobTitleDiv);
                             jobEntryDiv.appendChild(locationDiv);

                             if (entry.expected) {
                                 const p = document.createElement('p');
                                 p.innerHTML = processBolding(entry.expected);
                                 jobEntryDiv.appendChild(p);
                             }
                             contentDiv.appendChild(jobEntryDiv); // Append the wrapped entry
                         });
                         break;

                     case 'paragraph':
                          // Only expect one paragraph entry per section of this type
                          const paragraphText = entries[0] || ''; // Get the single stored item (or empty string)
                          if (paragraphText) { // Only create paragraph if content exists
                              const p = document.createElement('p');
                              p.innerHTML = processBolding(paragraphText);
                              contentDiv.appendChild(p);
                          }
                         break;

                     case 'structured-entry': // Experience, Projects, etc.
                         entries.forEach(entry => {
                              const jobEntryDiv = document.createElement('div'); // Wrap job entry for better print page-breaking
                              jobEntryDiv.classList.add('job-entry');

                              const jobTitleDiv = document.createElement('div');
                              jobTitleDiv.classList.add('job-title');
                              jobTitleDiv.innerHTML = `<span>${processBolding(entry.position || '')}</span><span>${processBolding(entry.dates || '')}</span>`;

                              const locationDiv = document.createElement('div');
                              locationDiv.classList.add('location');
                              locationDiv.innerHTML = `<span>${processBolding(entry.company || '')}</span><span>${processBolding(entry.location || '')}</span>`;

                              jobEntryDiv.appendChild(jobTitleDiv);
                              jobEntryDiv.appendChild(locationDiv);

                              if (entry.bullets && entry.bullets.length > 0) {
                                  const ul = document.createElement('ul');
                                  entry.bullets.forEach(bulletText => {
                                      const li = document.createElement('li');
                                      li.innerHTML = processBolding(bulletText);
                                      ul.appendChild(li);
                                  });
                                  jobEntryDiv.appendChild(ul);
                              }
                              contentDiv.appendChild(jobEntryDiv); // Append the wrapped entry
                         });
                         break;

                     case 'list-item': // Extracurricular, Awards, etc.
                         // Find the ul already created during structure rendering (if it exists)
                         let ul = contentDiv.querySelector('ul');
                         // Create ul if it doesn't exist (e.g., for a dynamically added list-item section)
                         if (!ul) {
                             ul = document.createElement('ul');
                             contentDiv.appendChild(ul);
                         }
                         ul.innerHTML = ''; // Clear existing list items

                         entries.forEach(entry => { // entry is now an object { text: ..., sortDate: ... }
                              const li = document.createElement('li');
                              li.innerHTML = processBolding(entry.text || ''); // Use the original text
                              ul.appendChild(li);
                         });
                         break;
                 }
             });
        }


        // --- Initial Setup ---
        function initializeResume() {
            // dynamicSections starts empty - it only holds custom sections

            // Initial sections exist in HTML. We just need to initialize their content arrays.
             resumeContentData.sections['education'] = [];
             resumeContentData.sections['technical-skills'] = [];
             resumeContentData.sections['experience'] = [];
             resumeContentData.sections['extracurricular'] = [];


            // --- Populate Input Forms with Default Values / Placeholders ---
            // Header
            document.getElementById('name').value = 'Sara Sadek';
            document.getElementById('address').value = 'Rancho Santa Margarita, CA 92688';
            document.getElementById('email').value = 'EBYEYMCIIcoaoL@gmail.com';
            document.getElementById('phone').value = '(310) 595-0876';
            document.getElementById('linkedin').value = 'https://www.linkedin.com/in/sara-ayoub-sadek-630b55168';

            // Education
             document.getElementById('edu-degree').value = 'Bachelor of Science in Biology and Bachelor of Science in Computer Science';
             document.getElementById('edu-institution').value = 'California State University, Fullerton';
             document.getElementById('edu-date').value = 'May 2025';
             document.getElementById('edu-gpa').value = '3.45';
             document.getElementById('edu-expected').value = 'Expected Graduation: May 2025';

            // Technical Skills
             document.getElementById('skills-content').value = 'Microscopy, Aseptic Technique, Micropipetting, Spectrophotometry, Gel Electrophoresis, Capsule Stain, Python, Bash, C++ (novice), x86 (novice), Data Analysis, Procedural Adherence, Customer Service, Communication.';

            // Structured Entry (Experience default examples are in HTML placeholders)
            // Add event listeners to the default bullet inputs for length check
             document.querySelectorAll('#structured-bullets .bullet-input').forEach(input => {
                input.addEventListener('input', function() { checkBulletLength(this); });
                // checkBulletLength(input); // Optional: Check on load if default is long - might be distracting
             });


            // List Item (Extracurricular default example is in HTML placeholder)

            // --- Populate Resume Preview with Default Content ---
            // This simulates adding the original resume content using the new data structure/functions

            // Header
            updateHeader(); // Reads default values from inputs and sets resumeContentData.header

            // Education (add the default entry from the form)
             addEducationEntry('education', {
                 degree: document.getElementById('edu-degree').value,
                 institution: document.getElementById('edu-institution').value,
                 date: document.getElementById('edu-date').value, // Make sure default has a date
                 gpa: document.getElementById('edu-gpa').value,
                 expected: document.getElementById('edu-expected').value
             });

            // Technical Skills (set the default content from the form)
             setParagraphContent('technical-skills', document.getElementById('skills-content').value);

            // Experience (Add all default entries)
             const defaultExperienceEntries = [
                 { position: 'Crew', company: 'Chipotle', location: '22245 El Paseo, Rancho Santa Margarita, CA', dates: 'August 2023 - Present', bullets: ['Ensured high order accuracy by implementing a step-by-step confirmation process and verbally verifying item details, consistently limiting errors to fewer than 4 per 5-hour shift', 'Utilized the cash register to charge 10–20 customers per shift, **double-checking totals** to prevent overcharging and **ensuring extras** like cups and chips were included when ordered', 'Fostered safe food consumption by strictly following detailed operational and sanitation protocols during 100% of my closing shifts, reducing potential contamination risks'] },
                 { position: 'Supplemental Instruction Leader (Computer Science)', company: 'CSUF', location: '800 N State College Blvd, Fullerton, CA', dates: 'August 2022 - Present', bullets: ['Tailored communication strategies, incorporating **analogies & rephrasing**, to simplify complex technical concepts related to hybrid x86-64 assembly with C++ enhancing comprehension', 'Boosted student performance by **adapting explanations** through active questioning and observation, leading SI attendees to score 1–1.5x higher than non-attendees'] },
                 { position: 'CREP Student Researcher', company: 'CSUF', location: '800 N State College Blvd, Fullerton, CA', dates: 'August 2022 - May 2023', bullets: ['Managed and **cleaned** a complex health-related dataset (N=62,482) from the Tennessee Cancer Registry for localized malignant breast cancer (LMBC)', 'Reviewed 5 papers on various cancers to **identify demographic and clinical variables** consistently linked to outcomes (e.g., age, marital status, insurance type)'], type: 'structured-entry' },
                 { position: 'DIA Jumpstart Student Researcher', company: 'University of Southern California', location: '', dates: 'June 2022 - August 2022', bullets: ['Employed a bash script to process and trim RNA sequencing datasets, using **Seqtk v1.3** removing 5 base pairs iteratively from the 3\' end of reads until a minimum length of 36 bp', 'Explored **read length effect** through use of 12 samples finding that read length from 36 to 76 bp raised HLA caller accuracy from 63% to 77%, except for PHLAT, seq2HLA, and HLAMiner'] },
                  { position: 'CIC-PCUBED', company: 'CSUF', location: '800 N State College Blvd, Fullerton, CA', dates: 'June 2022 - August 2022', bullets: ['Collaborated on a Python project to identify cointegrated stocks for financial analysis'] },
                  { position: 'Supplemental Instruction Leader (Biology)', company: 'CSUF', location: '800 N State College Blvd, Fullerton, CA', dates: 'August 2019 - May 2022', bullets: ['Facilitated 2 weekly SI sessions for BIOL 151, a foundational course covering topics such as cellular structures, metabolic pathways, and gene regulation.', 'Supported increased course pass rates, as students attending SI sessions have an 83% pass rate in gateway courses, compared to 76% for those who do not participate'] },
                  { position: 'ASSURE-US Member', company: 'CSUF', location: '800 N State College Blvd, Fullerton, CA', dates: 'November 2019 - August 2021', bullets: ['Developed a decision tree model using **scikit-learn** in Python to analyze data for viable drug candidates targeting HIV-1 integrase.'] },
                 { position: 'Summer Undergraduate Research Fellowship', company: 'University of Southern California', location: '', dates: 'June 2021 - August 2021', bullets: ['Ran HLA typing pipelines using Bash with OptiType, PHLAT, and seq2HLA on RNA-seq data across six gold standard datasets', 'Estimated allele-level accuracy of 99.4% (OptiType), 95.4% (PHLAT), and 95.9% (seq2HLA) for MHC class I, using the formula: (correct alleles / total alleles) × 100', 'Measured CPU time per sample using Unix time, recording averages of 45.3 min (OptiType), 253 sec (PHLAT), and 6.9 min (seq2HLA)', 'Recorded memory usage via <code>/usr/bin/time -v</code>, with averages of 14.2 GB (OptiType), 9.3 GB (PHLAT), and 0.36 GB (seq2HLA)'] },
                  { position: 'Peer Mentor', company: 'CSUF', location: '800 N State College Blvd, Fullerton, CA', dates: 'August 2018 - December 2018', bullets: ['Provided personalized support to 25 students in the “Think Like Einstein” course by addressing questions and guiding them to campus resources such as Titan Connection, Titan Link, counselors, research opportunities, and professional communication skills'] },
                  { position: 'Orientation Leader', company: 'CSUF', location: '800 N State College Blvd, Fullerton, CA', dates: 'June 2018 - August 2018', bullets: ['Guided diverse groups of new students, presenting essential campus resources and procedures daily to groups of 25-30 students'] }
             ];
             defaultExperienceEntries.forEach(entry => addStructuredEntry('experience', entry));


            // Extracurricular Activities (Add all default entries)
             const defaultExtracurricularItems = [
                 'STEM Advantage Scholar | January 2022 – Present',
                 'CSUF Chapter of ACM Member | August 2022 – May 2023',
                 'Example Older Activity | 2017 - 2018' // Add an older one to test sorting
             ];
             defaultExtracurricularItems.forEach(itemText => addListItem('extracurricular', itemText));

            // Update UI elements (dropdowns and removable list) based on initial state
            populateSectionDropdowns();
            renderSectionRemovalList(); // This list will be empty initially
        }

        // --- Clear Content ---
        // This function clears the *entries* within all existing sections
        function clearResumeContent() {
             // Clear content data for all sections
             for (const sectionId in resumeContentData.sections) {
                 if (resumeContentData.sections.hasOwnProperty(sectionId)) {
                     resumeContentData.sections[sectionId] = []; // Clear the array of entries
                 }
             }

             // Reset Header display to blank (keeps the header section structure)
             document.getElementById('resume-name').textContent = '';
             document.getElementById('resume-contact').textContent = '';
             document.getElementById('resume-linkedin').href = '#';
             document.getElementById('resume-linkedin').textContent = '';

             // Re-render resume content (which will now be empty for all sections)
             populateResumeContent();

             // Do NOT reset input forms or section list here, only the displayed resume content
             // Use location.reload() for a full reset
         }


        // --- Initial Load ---
        document.addEventListener('DOMContentLoaded', initializeResume);

    </script>
</body>
</html>
